🏪 가맹점 경영 위기 조기 경보 AI 시스템

🎯 프로젝트 개요

본 프로젝트는 영세/중소 요식업 가맹점의 경영 데이터를 분석하여, 매출 급락이나 폐업과 같은 경영 위기 징후를 선제적으로 예측하는 AI 조기 경보 시스템을 개발하는 것을 목표로 합니다.

단순히 위기를 예측하는 것을 넘어, 어떤 데이터 신호가 위기를 유발했는지 SHAP 라이브러리 등을 통해 해석 가능한 근거를 제시함으로써, 소상공인이 실질적인 대응 전략을 수립할 수 있도록 돕습니다.

📂 프로젝트 구조

```
.
├── data/
│   ├── big_data_set1_f.csv       (가맹점 정보)
│   ├── big_data_set2_f.csv       (월별 매출 정보)
│   └── big_data_set3_f.csv       (월별 고객 정보)
│
├── .gitignore
├── README.md                     (현재 파일)
├── requirements.txt              (필수 라이브러리)
│
├── data_loader.py                (1. 데이터 로딩 및 병합 모듈)
├── feature_engineering.py        (2. 파생 변수 생성 모듈)
├── labeling.py                   (3. 위기 정의 및 타겟 생성 모듈)
├── model_trainer.py              (4. 모델 학습 및 평가 모듈)
└── explainer.py                  (5. SHAP 기반 모델 해석 모듈)
```

✨ 핵심 기능 및 분석 로직

동적 피처 엔지니어링 (Feature Engineering)

점수 변환: RC_M1_SAA (매출금액 구간) 등 모든 범주형 구간 데이터를 RC_M1_SAA_score와 같이 맨 앞 숫자를 추출하여 수치형 점수로 변환합니다.

고객 행동 변화 지표: MCT_UE_CLN_REU_RAT (재방문 고객 비중) 등 고객층을 나타내는 지표의 변화량, 표준편차를 나타냅니다.

위기 신호 정의 (Labeling)

명백한 위기 (폐업): 데이터에 기록된 실제 폐업일(MCT_ME_D)을 기준으로 위기를 정의합니다.

잠재적 위기 (성과 급락): M1_SME_RY_SAA_RAT (동일 업종 매출금액 비율), M1_SME_RY_CNT_RAT (동일 업종 매출건수 비율), M12_SME_RY_SAA_PCE_RT (동일 업종 내 매출 순위 비율), M12_SME_BZN_SAA_PCE_RT (동일 상권 내 매출 순위 비율)가 자신의 과거 12개월 평균 대비 통계적으로 유의미하게 하락한 상태가 2개월 이상 지속될 경우 '위기'로 정의합니다.

신뢰성 있는 AI 모델링 (Model Training)

알고리즘: LightGBM을 사용하여 빠르고 정확한 예측을 수행합니다.

교차검증: TimeSeriesSplit을 사용하여 데이터의 시간 순서를 보존하며 모델을 검증합니다.

불균형 해소: scale_pos_weight 파라미터로 소수의 '위기' 케이스(1)를 모델이 비중 있게 학습하도록 설정합니다.

해석 가능한 예측 (Explaining)

전역적 해석: plot_feature_importance 및 shap.summary_plot을 통해 모델이 전반적으로 어떤 신호를 위기 예측에 중요하게 사용했는지 분석합니다.

국소적 해석: shap.waterfall_plot을 통해 특정 가맹점 하나가 '위험'하다고 예측되었다면, '왜' 그렇게 예측했는지 구체적인 이유를 시각화하여 제시합니다.